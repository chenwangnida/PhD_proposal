\chapter{Introduction}\label{C:intro}

\section{Problem Statement}
\emph{Service-oriented computing} (SOC) is a novel computing paradigm that employs services as fundamental elements to achieve the agile development of cost-efficient and integrable enterprise applications in heterogeneous environments \cite{papazoglou2003service, papazoglou2006p}. One of the primary purposes of SOC is to overcome conflicts due to diverse platforms and programming languages to make integrable and seamless communication among those existing or newly built independent services. \emph{Service Oriented Architecture} (SOA)  could abstractly realise service-oriented paradigm of computing. This accomplishment has been contributing to reuse of software components, from the concept of functions to units and from units to services during the evolution of development in SOA \cite{booth2004web, overdick2007resource}. One of the most typical implementation of SOA is \emph{web service}, which designated as ``modular, self-describing, self-contained applications that are available on the Internet" \cite{curbera2001web}. Several standards play a significant role in registering, enquiring and grounding web services across the web, such as UDDI \cite{curbera2002unraveling}, WSDL \cite{lausen2007semantic} and SOAP \cite{fensel2011semantic}. \emph{Web service composition} aims to loosely couple a set of web services to provide a value-added composite service that accommodates complex functional and non-functional requirements of service users. 

Two most notable challenges for web service composition are ensuring interoperability of services and achieving Quality of Service (QoS) optimisation \cite{fensel2011semantic}. \emph{Interoperability} of web services presents challenges in syntactic and semantic dimensions. The syntactic dimension is covered by the XML-based technologies \cite{yu2008deploying}, such as the previously discussed $WSDL$ and $SOAP$. In this dimension, most of service compositions are merely based on the matching of input-output parameters. The semantic dimension enables a better collaboration through ontology-based semantics \cite{o2005review}, in which many standards have been established. E.g., OWL-S \cite{martin2004owl}, Web Service Modeling Ontology (WSMO) \cite{lausen2005w3c}, SAWSDL \cite{kopecky2007sawsdl}, Semantic Web Services Ontology (SWSO) \cite{petrie2016web}. This dimension bring around some other underlying functionality of services (i.e., precondition and postcondition) that could effect the execution of web services and their composition. On the whole, these two challenges give birth to \emph{Semantic web services composition} and \emph{QoS-aware service composition}. \emph{Semantic web services composition} is distinguished from the traditional service composition (i.e., only syntactic dimension is presented in web services). For semantic web service composition,  the resources of which are described semantically to enable a better interoperability for composing services. Another challenge is related to QoS optimisation, e.g., a search for minimum cost and maximum reliability. This problem gives birth to \emph{QoS-aware service composition} that aims to find composition solutions with optimised QoS. 

Further more, the environment of service composition is changing in the real world, rather than \emph{static}. E.g, QoS values of services being composed of are fluctuating over time, or service chosen at the planning stage may not available to be invoked at the runtime. Most of importance is \emph{static web service composition} supports the environment change badly because of outdated composition solutions. Therefore, \emph{Dynamic web service composition} become a very demanding research field with a growing interest for providing solutions that adapt to the changing environment. Additionally, in context of semantic web service composition, semantics of web services can make the problem of dynamic web service composition more complicated for the changing ontology.


Different approaches have been proposed to solve those composition problems discussed above and they can be classified into two main categories: \emph{semi-automated web service composition} and \emph{fully automated web service composition}. The first composition problem requires human beings to manually create abstract workflows. Generally, researchers assume the pre-defined abstract workflow is given and provided by the users. The optimisation problem in this approach turns to selecting the concrete services with the best possible quality to each slot of the given workflow. Due to a tremendous growth in industries and enterprise applications, the number of web services has increased dramatically and unprecedentedly. The process of conducting abstract workflows  manually is fraught with difficulties. Therefore, fully automation of the composition process was introduced in web service composition for less human intervention, less time consumption, and high productivity. The advantages of fully automated approach is that an abstract workflow is not not provided, but established while service are being selected. 


Generating composition plans automatically in discovering and selecting suitable web services is a NP-hard problem \cite{moghaddam2014service}, which means the composition solution is not likely to be found with reasonable computation times in a large searching space. \emph{Artificial Intelligence (AI) planning-based approaches}, \emph{Evolutionary Computation (EC) techniques} and hybrid techniques  are introduced to handle this problem. AI planning problem is utilised to solve automated web service composition problems as a plan making process, from initial states to a set of actions to desired goal states-composite web services, where services are considered as actions triggered by one state (i.e., inputs) and resulted in another state (i.e., outputs). In the second approach, heuristics have been employed to generate near-optimal solutions, where a variety of EC techniques have been used in this context, e.g., Genetic Algorithms (GA), Genetic Programming (GP) and Particle Swarm Optimisation (PSO). EC-based techniques have been effectively proposed to solve \emph{QoS-aware web service composition} problems with different designed data structures for representation. That is, different solution representation utilised in different EC-based method have been investigated in QoS-aware web service composition problems, since they could significantly impact on the performance while performing fully automated service composition. In the third approach, a hybrid of AI planning-based approaches and EC-based approaches are proposed to fulfil the correctness in constructing workflows with users' constraints, while the quality of composition solutions (e.g., QoS) are also optimised according to users' requirement.

The overall goal of this thesis is to propose a comprehensive-quality aware automated web service composition. This comprehensive quality aims to jointly optimise semantic matchmaking quality and QoS. Meanwhile, this new approach also tackles several service composition problems, such as semantic web service composition, multi-objective optimisation, dynamic web service composition.

\section{Motivations}
The motivations of automated semantic web service composition lies in the requirements from three key aspects that simultaneously account for. 
\begin{enumerate*}
 \item \emph{Quality of service composition}.
%previous studies have suggested many approaches to optimise QoS, which refers to the non-functional quality of service composition. However, the importance of the functional quality (i.e, semantic matchmaking quality) are not recognised in these works.
 \item \emph{Single-objective and Muti-objective optimisation}.
 \item \emph{Service composition based on preconditions and effects}.
 \item \emph{dynamic semantic service composition}.
\end{enumerate*}
Herein these requirements are explicitly discussed below. 
\subsubsection{Various Techniques of Hybridisation}

Various techniques are utilised to solve service composition problems, such as AI planning, local searching and EC-based techniques. AI planning is a prominent technique for handling web service composition problems while ensuring the correctness of the solution (i.e., all the inputs of involved services are satisfied) at every step \cite{wang2014automated}.  Local search is a heuristic technique for solving optimisation problems. In local search, solutions keep moving to the neighbour solutions with one locally maximised criterion until near-optimal solution found \cite{parejo2008qos}. However, this technique has the shortage in handling global optimisation.  On the other hand, EC-based techniques are outstanding at solving combinatorial optimisation problems for finding the globally optimised solutions in large searching space. To take the benefits from various techniques,  various techniques of hybridisation allows escaping local optimal easily and improving the rate of convergence rate \cite{renders1996hybrid}.

Tranditionally, various techniques are employed to handle service composition problem independently in existing works. Many researchers investigated AI planning techniques for service composition problems using classical planning algorithm, where inputs, outputs, preconditions and effects are well defined along with the actions (i.e, services) \cite{markou2015non,peer2005web}. However, this technique is always considered to be less efficient and less scalable, leaving aside optimisation problems \cite{parejo2008qos}. Some researchers combine AI planning and local search to handle optimisation problems, e.g., a combination of Graphplan \cite{blum1997fast} and Dijkstraâ€™s algorithm is proposed by \cite{feng2013dynamic} to achieve a correct solution with optimised QoS. On the other hand, many EC techniques have been utilised to handle service composition problems for global optimal solutions. A few researchers also combine both local search and EC-based techniques for efficiently finding compostion solution with optmised QoS \cite{parejo2008qos}. From the techniques discussed above, these techniques are problem-specific, e.g., optimsing QoS or number of services. To cope the composition problems featured in all the motivations dicussed below, new hybrid methods must be proposed to adapt in the problems specified in the thesis, e.g., a hybrid method for automatically optimising both semantic matchmaking quality and QoS. 

\subsubsection{Hybridisation of Quality of Semantic Matchmaking and Quality of Service}
Web service compositions are optimised and ranked on the well known non-functional attributes (i.e, QoS), where services are composed together based on outputs provided by one service and inputs required by another service. In the domain of semantic web services, Often, the provided information (i.e., outputs) does not perfectly match the required information (i.e., inputs) according to the semantic descriptions are abided with by these information \cite{lecue2008optimizing}. The quality of the matches are one part of the goal for achieving service compositions \cite{lecue2009optimizing}. Therefore, a hybridisation of QoS and semantic matchmaking quality becomes a combinatorial optimisation problem in web service composition. One motivated example from the practical perspective is explained here: Often, many different service compositions can meet a user request but differ significantly in terms of QoS and semantic matchmaking quality. For example, in the classical travel planning context, some component service must be employed to obtain a travel map. Suppose that two services can be considered for this purpose. One service $S$ can provide a street map at a price of 6.72. The other service $S'$ can provide a tourist map at a price of 16.87. Because in our context a tourist map is more desirable than a street map, $S'$ clearly enjoys better semantic matchmaking quality than $S$ but will have negative impact on the QoS of the service composition (i.e., the price is much higher). One can easily imagine that similar challenges frequently occur when looking for service compositions. Hence, a good balance between QoS and semantic matchmaking quality is called for.

Existing works on service composition focus mainly on addressing only one quality aspect discussed above. For the semantic matchmaking quality, it is mainly addressed in the discovery of an atomic service. I.e., one-to-one matching of user requirements to a single service. The service composition \cite{bansal2016generalized,boustil2014semantic,mier2015integrated} utilised semantic descriptions of web services (e.g., description logic) to ensure the interoperability of web services, but the goal of the composition is often to minimise the number of services or the size of a graph representation for a web service composition. These approaches do not guarantee an optimised QoS of service compositions. On the other hand, huge efforts have been devoted to studying QoS-aware web service composition, and some approaches to QoS-aware web service composition do consider the semantic matchmaking while composing solutions, but they do not recognise the importance of semantic matchmaking quality for optimising and ranking service composition. For these reasons, there is a need to device an comprehensive quality model for jointly optimising the two quality aspects. Apart from that, new representations need to be proposed to maintain the required information for the optimisation using hybrid methods.


\subsubsection{Multi-Objective Composition Optimisation}
Web service composition problems fall into two groups, depending on an optimisation for a single objective or multiple objectives. In single-objective service compositions, a single composition solution is always returned by the composition task, when the preferences of each quality component within the single objective (e.g., a weighted sum of different quality criteria) is known by users. However, users do not always have clear preferences when many quality criteria are presented. Therefore, multi-objective is a natural features of requirements from users to provide a set of trade-off solutions for the conflicting quality criteria. E.g., Premium users do not care cost as much as price-sensitive users do, so they may prefer a composition solution with lowest execution time,  rather than one with a relatively lower execution time without exceeding a budget. Therefore, a multi-objective  fully automated service composition approach is very demanding for providing a set of solutions.

Existing research on the automated web service composition mainly concentrates on single objective problems for QoS-aware web service compositions. I.e., there is only one solution promoted by a unified QoS ranking score to all the users. However, in multi-objective context, service composition problems  \cite{liu2005dynamic,wada2012e3,yin2014hybrid} are only approached by semi-automated methods, where the workflow structure is assumed to be pre-existing, despite these approaches handle the conflicting QoS attributes independently. From above discussion, these is a lack of fully automated approaches to multi-objective web service composition problems. Moreover, the insufficiency of handling only non-functional attributes (i.e., QoS) has given rise to adding semantic matchmaking quality into consideration.

\subsubsection{Automated Web Service Composition Based on Preconditions and Effects}
Apart from considering the satisfactory inputs and production of outputs, some conditional constraints also determine the execution of services.  These conditional constraints lead to multiple possible paths for execution when services are composed together. E.g., In the scenario of an online book shopping system adapted from \cite{wang2014automated}, services are composed to provide an operation for book shopping.  Users expect purchasing outcome (e.g. receipt) returned If book and customer details (e.g. title, author, customer id) are given. In this case, the users may have specific constraints. If the customer has enough money to pay for the book in full amount, then they would like to do so. Otherwise, the customer would like to pay by instalments. Therefore, the constraints are on their current account balance needs to be handled during the execution of the service composition.

Most of the approaches to automated web service composition are approached through services represented by only inputs and outputs, which are simply utilised to complete service composition. However, the underlying functional knowledge of services (i.e., prerequisites for execution, and result in some changes, often know as precondition and effects) is not included \cite{paliwal2012semantics}. Despite many promising approaches \cite{DBLP:journals/soca/BoustilMS14} been explored to achieve compositions that consider precondition and effects using AI planning, the efficiency is the main drawback of these approaches. EC techniques are considered to be more flexible and more efficient, but they have not been widely explored for automated web service composition based on precondition and effects.

\subsubsection{Dynamic Semantic Web Service Composition}
In a  dynamic environment, QoS of the atomic services in service repository is a moving target. Static service composition solution is no longer enough, and requisite measures must be taken if the original composition solution may change in QoS or not be executable if any service involved goes offline. Therefore, dynamic Web service composition is proposed to effectively and efficiently monitor and update composition solutions when they are outdated \cite{li2014fault}. 


The major techniques endeavoured to update outdated or incorrect compositions allow for dynamic adaptation of the solutions based on implementing variability constructs at the language level. This approach is difficult to manage, and error-prone.  Based on which, variability model \cite{alferez2014dynamic} is proposed to support the adaption. However, most of the EC-based approaches to web service composition have been studied in static scenarios, rather than dynamic ones. Although a lack of research in this field, they have been showing its confidence of its behaviour for handling dynamic web service composition for two reasons: a proper amount of population stored could be used for retrieving an alternative composition solution in the case of failure. Also, The stored population could be further evolved while taking changes of QoS into account. This self-heal process supports the adaption of a dynamic environment. Presented those benefits, it is advisable to study the effectiveness of EC approaches in a dynamic composition context.






%The intricacy of Web service composition lies in the number of distinct facets it must simultaneously account for. As the \textbf{first facet}, services must be combined so that their operation inputs and outputs are properly linked, i.e. the output produced by a given service is usable as input by the next services in the composition, eventually leading up to the desired overall output. As the \textbf{second facet}, services must be arranged appropriately in the composition according to the desired outcome (e.g. in sequence, in parallel). Particular attention must be paid to conditional constraints, when the composition is required to have multiple execution options -- branches -- according to a given condition \cite{wang2014automated,sohrabi2009web,karakoc2009composing}. As the \textbf{third facet}, the composition must achieve the best possible overall Quality of Service (QoS) with regards to attributes such as the time required to execute the composite services, the financial cost of utilising the service modules, and the reliability of those modules. As the \textbf{fourth facet}, the environment of the composition must be recognised as dynamic, with QoS values that fluctuate and services that become unavailable/available over time. These facets are discussed in more detail below:




 
 %\item \textbf{Composition constructs:} In addition to considering the functionality of services within the composition, it is necessary to arrange them appropriately. This ensures, for example, that services that depend on each other are sequentially connected, while services that are independent from each other are allowed to be executed in parallel. Another fundamental construct is a conditional constraint, which determines when the execution of a composition should branch into one of multiple possible paths, depending on runtime values. For example, consider the scenario of an online book shopping system, adapted from \cite{wang2014automated}. In this scenario, the objective is to employ existing Web services to accomplish a basic book shopping operation. Preferably, the services to be used, the order in which they are to be invoked, and how they interact with each other should be determined automatically. Therefore, the book and customer details (e.g. title, author, customer information) and the expected purchase outcome (e.g. receipt) act as the composition task inputs and outputs, and the shopping-related services as the atomic composition components. In certain cases, however, the customer may have specific constraints. For example, the customer's preferred method of payment is likely to depend on their current account balance: if the customer has enough money to pay for the book in full, then they would like to do so, otherwise the customer would like to pay by installments. In this case, the composition task has one set of inputs (book and customer details), and a condition (balance) that may lead to two different sets of outputs depending on whether it is met (either a receipt for paying in full or the initial installment bill). In this type of composition, the runtime value of the type in the condition is used to ultimately decide which set of outputs should be produced. Different techniques have been explored to achieve compositions that consider conditional constraints, including the use of AI planning with rules encoding user constraints \cite{DBLP:journals/soca/BoustilMS14} and the representation of the composition as a constraint satisfaction problem to be processed with a solver engine \cite{karakoc2009composing}. This territory has not been widely explored by applying Evolutionary Computation (EC) techniques; yet, due to their flexibility and efficiency, it would be interesting to focus on the investigation of ways in which to extend them to apply these constraints.
\section{Research Goals}
The overall goal of this thesis is to develop new and effective approaches to comprehensive quality-aware automated semantic web service composition. More specifically, the focus will be on developing approaches that could explicitly support a proposed comprehensive quality for jointly optimising QoS and semantic matchmaking quality, developing multi-objective approach for optimising the quality criteria that involved in the decision making of composition solutions selection, developing approaches for semantic web service composition, particularly, considering precondition and effects, and developing hybrid composition techniques to dynamic service composition for handling changes of composition environment. This research aim to develop a hybridisation of AI planning and EC-based composition techniques for effectively handling the several service composition problems discussed above. The research goal described above can be achieved by completing the following set of objectives:


\begin{enumerate}
  \item Create an automated approach to comprehensive quality-aware automated web service composition that simultaneously optimises both QoS and semantic matchmaking quality. Particularly, we extend existing works on QoS-aware service composition by considering jointly optimising the both quality aspects, which is proposed as a comprehensive quality model. On the other hand, representations of the composition solutions are the key aspect of the approaches, and they must support the evaluation of comprehensive quality. Therefore, we will investigate the following sub-objectives to handle this objective.
  \begin{enumerate}
    \item \emph{Propose a comprehensive quality model that addresses QoS and semantic matchmaking quality simultaneously with a desirable balance on both sides.}\\
    \item \emph{Propose a direct/indirect solution representation for the planning and EC-based web service composition technique.}\\
    \item \emph{Propose hybrid methods to effectively and efficientlty handle the comprehensive quality-aware web service composition problem.}\\

    A tree or graph representation is well-suited to represent Web service composition solutions with conditional constraints, since such structures are naturally capable of representing the links between the composing services and multiple execution paths. These structures may be referred to as \emph{direct representations} of solutions, since the genotype and the phenotype of each solution are the same, meaning that solutions are represented directly as they should be interpreted. Proposing a representation based on these structures involves some trade-offs that must be carefully considered, such as the existence of EC techniques that support that structure and the computational cost they incur.
    Despite the intuitiveness of direct representations, it has been argued in the problem domain of scheduling that indirect representations, where the final result must be decoded from a population candidate, have been shown to have better search performance than their direct counterparts \cite{hart2005evolutionary,craenen2001handle}. Due to this evidence, an indirect candidate representation should be proposed and compared to the direct representation. This indirect representation could be based on the Web service composition Particle Swarm Optimisation (PSO) approach proposed in \cite{da2014graph}.
    In case there is a trade-off between the execution time and the quality of the solutions produced by the direct and indirect representations developed in Objectives \ref{obj:direct} and \ref{obj:indirect}, a hybrid representation should be proposed to combine the strengths of these two approaches. This representation could comprise the structure used in the direct representation with the addition of weights from the indirect representation. Comparisons should be performed to determine whether the hybrid solution presents any performance or quality gains.
  \end{enumerate}
 
 \item \label{obj:mo} Develop a many-objective (MO) approach to optimising the quality of candidate compositions with multiple execution paths, abiding by SLA constraints. Two factors must be taken into account when optimising Web service compositions with multiple execution paths: firstly, each Quality of Service (QoS) attribute must be optimised independently, since they may be conflicting with each other; secondly, each path of the composition must also be independently considered, since the QoS values for each path may vary significantly. The development of this approach can be divided into the following two sub-objectives:
 
   \begin{enumerate}
    \item \label{obj:simple-mo} \emph{Propose an unconstrained MO approach for independently optimising the execution paths of a Web service composition solution with conditional constraints.}\\
    The challenge in optimising compositions with multiple execution paths, while at the same time considering several independent quality measures, is the number of dimensions that must be considered simultaneously. On the one hand, encoding each individual quality measure of each execution path as an independent value provides the a very expressive representation of the problem; on the other hand, MO optimisation with a large number of dimensions may result in a solution set that contains many unremarkable solutions. Thus, the proposed approach must handle this issue.
    \item \label{obj:sla-mo} \emph{Extend this MO approach to also consider SLA constraints.}\\
    Once the fundamental MO optimisation approach has been proposed, it should be extended to observe SLA constraints. Note that these constraints must be enforced for each execution path individually, to ensure that all runtime options have been optimised according to the quality parameters of the composition requestor.
   \end{enumerate}
 
 \item \label{obj:semantic} Develop an EC technique for performing semantic Web service selection in the context of a planning-based composition technique. As discussed in Objective \ref{obj:rep}, the composition technique investigated in this thesis combines elements of AI planning and of EC approaches to achieve compositions that are correct, have conditional constraints, and can be optimised according to their QoS attributes. In planning-based approaches to service composition, however, the semantic selection process of candidate atomic services is inefficient, since there are many possible service matches to consider at each planning step. In fact, it may be unfeasible to consider all possible service matches in an exhaustive manner when handling larger service repositories, which invites the use of non-exhaustive approaches such as EC techniques to accomplish this task. Thus, this objective entails the use of an optimisation technique to discover semantically matching services to be included in a composition candidate. Note that this objective aims to investigate the use of an optimisation technique nested within the service selection step of the planning/EC approach.
 
 \item \label{obj:dyna} Modify the planning/EC composition technique to work in a dynamic environment. In a static scenario the planning-EC technique is executed once for a given composition task, returning a composite result under the assumption that the quality levels and the availability of the atomic services included in that result will remain constant. In a more realistic dynamic scenario, however, the quality of the services in the repository may fluctuate and occasionally services may become unavailable. To account for these setbacks, solutions must be corrected and updated in response to changes in the environment. In order to do this, the planning-EC technique is to be modified to retain a population of candidates as alternatives in case of failure, and further generations are to be evolved as the QoS values of services in the repository change, thus leveraging the natural features of Evolutionary Computation. These improvements are to be performed in two steps:
 
 \begin{enumerate}
 \item \label{obj:dyna-qos} \emph{Extend planning/EC technique to re-optimise candidates as the quality values of services changes.}\\
 Usually, EC approaches dedicated to Web service composition create a population of candidates, optimise this population, and identify the best solution candidate, discarding the others in the process. In a dynamic scenario, disposing of the remaining candidates would be wasteful, since some of these alternative solutions may become promising as quality values change. Instead of destroying the population, the extended technique should maintain it for future re-optimisation. A key challenge in this approach is striking a balance between population diversity and effective optimisation.
 \item \label{obj:dyna-fail} \emph{Create a strategy for handling service failure using other candidates in the population.}\\
 In addition to quality changes, the atomic services used in a composition may occasionally fail/become unavailable. An alternative execution plan must be used to prevent the composite service from being impacted, and the proposed solution is to select as efficiently as possible an unaffected candidate from the population as the replacement.
 \end{enumerate}
 
\end{enumerate}

\section{Published Papers}

%During the initial stage of this research, some investigation was carried out on the suitability of different candidate representations for EC-based Web service composition. This culminated in the publication of the following papers:

%\begin{itemize}
% \item Alexandre Sawczuk Da Silva, Hui Ma and Mengjie Zhang. "A GP Approach to QoS-Aware Web Service Composition and Selection". \emph{Proceedings of the 10th International Conference on Simulated Evolution and Learning (SEAL 2014). Lecture Notes in Computer Science}. Vol. 8886. Dunedin, New Zealand. December 15-18, 2014. pp. 180-191.
% \item Alexandre Sawczuk da Silva, Hui Ma and Mengjie Zhang. "A GP Approach to QoS-Aware Web Service Composition including Conditional Constraints". \emph{Proceedings of 2015 IEEE Congress on Evolutionary Computation (CEC 2015)}. Sendai, Japan. 25-28 May, 2015 (To Appear)
% \item Alexandre Sawczuk da Silva, Hui Ma and Mengjie Zhang. "GraphEvol: A Graph Evolution Technique for Web Service Composition". \emph{Proceedings of the 26th International Conference on Database and Expert System Applications (DEXA 2015)}. Valencia, Spain. 1-4 September, 2015 (Accepted)
%\end{itemize}


\section{Organisation of Proposal}
The remainder of the proposal is organised as follows: Chapter \ref{C:review} provides a fundamental definition of the Web service composition problem and performs a literature review covering a range of works in this field; Chapter \ref{C:preliminary} discusses the preliminary work carried out to explore the hybridisation of AI planning techniques and EC-based techniques for Web service composition, one of the key ideas proposed in this project; Chapter \ref{C:plan} presents a plan detailing this project's intended contributions, a project timeline, and a thesis outline.
